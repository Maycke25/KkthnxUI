<Ui>
	
	<Script file="Core.lua"/>
	
	<Frame name="KkthnxUI_PlateFrame" parent="KkthnxUI_UIParent">
		<Scripts>
			<OnLoad>
				self.list = {}
				self:RegisterEvent("PLAYER_LOGIN")
			</OnLoad>
			<OnEvent function="KkthnxUI_NamePlates_Load" />
		</Scripts>
	</Frame>
	
	<Frame name="KkthnxUI_NamePlateAuraTemplate" hidden="true" virtual="true">
		<Size x="34" y="23" />
		<Layers>
			<Layer level="BACKGROUND">
				<Texture parentKey="Icon" file="Interface\Icons\INV_MISC_QUESTIONMARK" >
					<Size x="24" y="13"/>
					<Anchors>
						<Anchor point="CENTER" />
					</Anchors>
					<TexCoords left="0.05" right="0.95" top="0.275" bottom="0.725"/>
				</Texture>
			</Layer>
			<Layer level="BORDER">
				<Texture file="Interface\AddOns\KkthnxUI_Media\Media\Textures\NamePlate_AuraBorder">
					<TexCoords left="0" right="0.53125" top="0" bottom="0.359375"/>
				</Texture>
			</Layer>
			<Layer level="ARTWORK">
				<FontString parentKey="Timer" inherits="KkthnxUI_GameFontNormal_Small" >
					<Anchors>
						<Anchor point="BOTTOM" x="0" y="0"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
	</Frame>
	
	<Frame name="KkthnxUI_NamePlateTemplate" useParentLevel="true" virtual="true">
		<Size x="130" y="32" />
		<Anchors>
			<Anchor point="CENTER" relativeTo="$Parent" x="0" y="-5" />
		</Anchors>
		<Frames>
			<StatusBar parentKey="HealthBar" inherits="KkthnxUI_StatusBarTemplate" useParentLevel="true" >
				<Size x="101" y="11" />
				<Anchors>
					<Anchor point="BOTTOMLEFT" x="8" y="7" />
				</Anchors>
			</StatusBar>
			<Frame parentKey="CastingBar" useParentLevel="true">
				<Size x="130" y="32"/>
				<Anchors>
					<Anchor point="TOP" relativePoint="BOTTOM" x="0" y="18"/>
				</Anchors>
				<Frames>
					<StatusBar parentKey="StatusBar" inherits="KkthnxUI_StatusBarTemplate" useParentLevel="true">
						<Size x="99" y="11"/>
						<Anchors>
							<Anchor point="BOTTOMRIGHT" x="-8" y="5"/>
						</Anchors>
					</StatusBar>
					<Frame parentKey="ArtFrame" setAllPoints="true">
						<Layers>
							<Layer level="BACKGROUND">
								<Texture parentKey="Icon" file="Interface\Icons\INV_MISC_QUESTIONMARK" >
									<Size x="13" y="13"/>
									<Anchors>
										<Anchor point="BOTTOMLEFT" x="7" y="4"/>
									</Anchors>
									<TexCoords left="0.05" right="0.95" top="0.05" bottom="0.95"/>
								</Texture>
							</Layer>
							<Layer level="BORDER">
								<Texture file="Interface\AddOns\KkthnxUI_Media\Media\Textures\NamePlate_CastBarBorder">
									<TexCoords left="0" right="0.5078125" top="0" bottom="1" />
								</Texture>
							</Layer>
							<Layer level="ARTWORK">
								<FontString parentKey="Name" inherits="KkthnxUI_GameFontNormal_Tiny" justifyH="CENTER" >
									<Size x="95" y="11" />
									<Anchors>
										<Anchor point="BOTTOMRIGHT" x="-10" y="5"/>
									</Anchors>
								</FontString>
							</Layer>
						</Layers>
					</Frame>
				</Frames>
				<Scripts>
					<OnLoad>
						self.Icon = self.ArtFrame.Icon
						self.Name = self.ArtFrame.Name
					</OnLoad>
				</Scripts>
			</Frame>
			<Frame parentKey="ArtFrame" setAllPoints="true">
				<Layers>
					<Layer level="BORDER">
						<Texture file="Interface\AddOns\KkthnxUI_Media\Media\Textures\NamePlate_Border" >
							<TexCoords left="0" right="0.5078125" top="0" bottom="1" />
						</Texture>
					</Layer>
					<Layer level="ARTWORK" textureSubLevel="1">
						<FontString parentKey="Name" inherits="KkthnxUI_GameFontNormal_Tiny" >
							<Size x="85" y="10" />
							<Anchors>
								<Anchor point="CENTER" x="0" y="7" />
							</Anchors>
						</FontString>
						<FontString parentKey="Level" inherits="KkthnxUI_GameFontNormal_Tiny" >
							<Size x="20" y="11" />
							<Anchors>
								<Anchor point="BOTTOMRIGHT" x="-1" y="7" />
							</Anchors>
						</FontString>
						<FontString parentKey="Health" inherits="KkthnxUI_GameFontNormal_Tiny" justifyH="LEFT">
							<Size x="50" y="11" />
							<Anchors>
								<Anchor point="LEFT" relativeKey="$parent.$parent.HealthBar" x="3" y="0" />
							</Anchors>
						</FontString>
						<Texture parentKey="Boss" file="Interface\Minimap\ObjectIcons" hidden="true" >
							<Size x="22" y="22" />
							<Anchors>
								<Anchor point="BOTTOMRIGHT" x="-2" y="2" />
							</Anchors>
							<TexCoords left="0.375" right="0.5" top="0.625" bottom="0.75" />
						</Texture>
						<Texture parentKey="Elite" file="Interface\Tooltips\EliteNameplateIcon" Desaturated="1" hidden="true" >
							<Size x="80" y="40" />
							<Anchors>
								<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMRIGHT" x="-34" y="-11" />
							</Anchors>
							<Color r="0.5" g="0.5" b="0.5" />
						</Texture>
					</Layer>
				</Layers>				
			</Frame>
			
			<Frame name="$parentDebuff1" inherits="KkthnxUI_NamePlateAuraTemplate" id="1">
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativeTo="$parent" relativePoint="TOPLEFT" x="3" y="-3" />
				</Anchors>
			</Frame>
			<Frame name="$parentDebuff2" inherits="KkthnxUI_NamePlateAuraTemplate" id="2">
				<Anchors>
					<Anchor point="LEFT" relativeTo="$parentDebuff1" relativePoint="RIGHT" x="-4" y="0" />
				</Anchors>
			</Frame>
			<Frame name="$parentDebuff3" inherits="KkthnxUI_NamePlateAuraTemplate" id="3">
				<Anchors>
					<Anchor point="LEFT" relativeTo="$parentDebuff2" relativePoint="RIGHT" x="-4" y="0" />
				</Anchors>
			</Frame>
			<Frame name="$parentDebuff4" inherits="KkthnxUI_NamePlateAuraTemplate" id="4">
				<Anchors>
					<Anchor point="LEFT" relativeTo="$parentDebuff3" relativePoint="RIGHT" x="-4" y="0" />
				</Anchors>
			</Frame>
		</Frames>
		<Scripts>
			<OnLoad>
				self.Name = self.ArtFrame.Name
				self.Level = self.ArtFrame.Level
				self.Boss = self.ArtFrame.Boss
				self.Elite = self.ArtFrame.Elite
				self.Health = self.ArtFrame.Health
			</OnLoad>
		</Scripts>
	</Frame>

</Ui>
